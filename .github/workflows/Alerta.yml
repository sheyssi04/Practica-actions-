name: Alerta Hola Mundo

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
        # 1. Descargar el código del repo
              
     - name: Checkout repository
       uses: actions/checkout@v3

              # 2. Instalar .NET SDK
              
     - name: Setup .NET
       uses: actions/setup-dotnet@v3
       with:
        dotnet-version: '8.0.x'   # o la versión que uses
                  
              # 3. Compilar y ejecutar el programa C#
              
     - name: Run Hola Mundo en C#
       run: dotnet new console -o app && cp HolaMundo.cs app/Program.cs && dotnet run --project app

      # 4. Enviar notificación enriquecida a ntfy.sh
     - name: Send notification to ntfy.sh
       run: |
          curl -H "Title: CI/CD - Electiv2 DevOps" \
               -H "Priority: high" \
               -H "Tags: github,ci,devops,itla" \
               -d $'Build EXITOSO ✅\n\nEstudiante: Sheyssi Puente Adames #2023-1166 \nCurso: Electiva2 - DevOps\nProfesor: Elys Cruz\n\nRepositorio: https://github.com/sheyssi04/Practica-actions-' \nRama: main \n\nVer detalles: https://github.com/sheyssi04/Practica-actions-' \
               ntfy.sh/devops-itla
